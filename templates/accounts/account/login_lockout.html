{% extends "account/base.html" %}

{% load i18n %}
{% load custom_tags %}

{% block head_title %}Too Many Attempts{% endblock %}

{% block content %}
<div class="row">
        <div class="col-lg-12 col-md-12 col-sm-12">
            <div class="col-lg-4 col-md-4 col-sm-1"></div>
            <div class="col-lg-4">
                <div class="panel panel-default">
                    <div class="panel-heading"><h3>Too Many Login Attempts</h3></div>
                    <div class="panel-body">
                        {% with cooloff_date=cooloff_timedelta|parse_cooloff %}
                        <script type="text/javascript">
                            let cooloff_date_local = new Date("{{ cooloff_date }}".replace(" ", "T")).toLocaleString();
                            document.getElementById('cool-off-date').innerHTML = cooloff_date_local;
                        </script>
                        {% endwith %}
                        <p>
                            You have failed to log in over {{ failure_limit }} attempts. Your account will now be
                            locked for {{ cooloff_timedelta }} hour(s) until <span class="cool-off-date"></span>.
                            Additional attempts to log in will be ignored until this time frame has passed. You can
                            attempt to log in again after this cooloff time has expired.
                        </p>
                        <p>
                            If you feel you have received this message in error or need help resetting your password,
                            please <a href="mailto:{{ SUPPORT_EMAIL }}">contact us</a> to have your account re-enabled.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-lg-4 col-md-4 col-sm-1"></div>
        </div>
    </div>
{% endblock %}