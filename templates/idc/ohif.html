<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

     <script
    src="https://polyfill.io/v3/polyfill.min.js?flags=gated&features=default%2CObject.values%2CArray.prototype.flat%2CObject.entries%2CSymbol%2CArray.prototype.includes%2CString.prototype.repeat%2CArray.prototype.find"></script>
  <script type="text/javascript">
    window.PUBLIC_URL = '/';
  </script>

    <title>OHIF Viewer</title>

     <!-- WEB FONTS -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700&display=swap" rel="stylesheet" />


    <script>
        function tryredirect(){
           if (window.location.pathname==="/callback/"){
               location.replace("http://localhost:8085/projects/chc-tcia/locations/us-central1/datasets/4d-lung/dicomStores/4d-lung/study/1.3.6.1.4.1.14519.5.2.1.6834.5010.173152375040663266298918385412")

           }
        }
    </script>
    </head>

<body >
  <noscript> You need to enable JavaScript to run this app. </noscript>
<script src="/static/js/index.umd.js" crossorigin></script>
  <div id="root"></div>

<script>
    var componentRenderedOrUpdatedCallback = function(){
        alert("headed back "+window.location);
        if (window.location.pathname==="/callback/"){

             window.location.href = "localhost:8085/projects/chc-tcia/locations/us-central1/datasets/4d-lung/dicomStores/4d-lung/study/1.3.6.1.4.1.14519.5.2.1.6834.5010.173152375040663266298918385412";
        }
    }



    window.OHIFViewer.installViewer({
  routerBasename: '/',
  enableGoogleCloudAdapter: true,
  servers: {
    // This is an array, but we'll only use the first entry for now
    dicomWeb: [],
  },
  // This is an array, but we'll only use the first entry for now
  oidc: [
    {
      // ~ REQUIRED
      // Authorization Server URL
      authority: 'https://accounts.google.com',
      //client_id: '370953977065-o32uf5cn5f4bovtogdu862mlnhbcv9hk.apps.googleusercontent.com',
        client_id: '500129912605-nqrs0edn1ckk45vsde24r6jdo45kmv17.apps.googleusercontent.com',
        //client_id:'940486172223-rsn9381dlmgmakilalfmki0963gvcasc.apps.googleusercontent.com',
      redirect_uri: '/callback/', // `OHIFStandaloneViewer.js`
      response_type: 'id_token token',
      scope: 'email profile openid https://www.googleapis.com/auth/cloudplatformprojects.readonly https://www.googleapis.com/auth/cloud-healthcare', // email profile openid
      // ~ OPTIONAL
      post_logout_redirect_uri: '/logout-redirect.html',
      revoke_uri: 'https://accounts.google.com/o/oauth2/revoke?token=',
      automaticSilentRenew: true,
      revokeAccessTokenOnSignout: true,
    },
  ],
  studyListFunctionsEnabled: true,
},"root",componentRenderedOrUpdatedCallback);


</script>
</body>
</html>